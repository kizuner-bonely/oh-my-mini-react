## 函数组件相对 class 组件的优势

1. 更容易实现逻辑重用。如果类组件要实现逻辑重用，就必须使用 HOC 或者 render props，这样在增加不必要的元素层级的同时也让人难以理解；
2. 关注点分离。能够将复杂组件通过 hooks 拆分成足够细的各个功能再拼凑在一起。
3. 更高效简洁的编码方式。函数组件是一种自变量、因变量的组合，写一个组件/程序就像在组织方程组，而类组件必须通过复杂的生命周期和各种类方法来手动维护业务关系，不同的业务链都平级分摊在类方法和生命周期方法中。
4. 使用函数组件时不需要关心 this。



Q: 为什么 hook 只能用在函数组件或自定义 hook 的顶级作用域?
A: React 是通过链表的方式存储，因此可以通过顺序来隔离多个 hook ( 比如多个 useState() )。如果有 hook 存在 if 中，那顺序是没法确定的
fiber.memorizedState(hook0) -> next(hook1) -> next(hook2)(workInProgress)

# Hello World

## 设计理念

React 是用 JS 构建 **快速响应** 的大型 web 应用程序的方式。

**制约快速响应的因素**

* IO ( 网络 )
* CPU ( 计算 )

浏览器每 16.6 ms 刷新一次 ( 1000ms / 60Hz )，每一帧要执行 **JS脚本**、**样式布局** 和 **样式绘制**。

如果 JS脚本执行时间过长，浏览器就没时间进行样式布局和样式绘制，呈现出来的效果就是掉帧。

**解决掉帧 -> 解决 JS脚本 执行时间过长问题**

* **异步更新** ( 可中断 )
* 节流、防抖 ( 治标不治本 )

React 解决 JS脚本执行过长的方式就是使用异步更新，React 会使用预留时间来执行 JS，当超过这个预留时间控制权会交还给浏览器，让它执行样式布局和绘制。

## 架构

自 React16 以来，React 的宏观架构分为以下几个部分：

**Scheduler ( 调度器 )** -> **Reconciler ( 协调器 )** -> **Renderer ( 渲染器 )**

不同优先级的任务会首先经过 Scheduler，Scheduler 会将优先级最高的任务送入 Reconciler，在 Reconciler 运行过程中，如果此时有一个更高优先级的任务，此时 Reconciler 的任务会暂停并压入任务栈中，并将更高优先级的任务送入 Reconciler，当完成该更高优先级的任务，再弹栈恢复上一次的任务。

需要注意的是，任务在 Renderer 中是不可中断的。